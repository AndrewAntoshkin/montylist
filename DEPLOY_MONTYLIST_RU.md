# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ montylist.ru

## –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±: Railway + reg.ru

---

## –®–∞–≥ 1: –î–µ–ø–ª–æ–π –Ω–∞ Railway (5 –º–∏–Ω—É—Ç)

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)**
2. **Sign up** —á–µ—Ä–µ–∑ GitHub
3. **New Project** ‚Üí **Deploy from GitHub repo**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `carete-montage`
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –¥–µ–ø–ª–æ–π

### –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç ‚Üí **Variables** ‚Üí **New Variable**

–î–æ–±–∞–≤—å—Ç–µ:
```
NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-–∞–Ω–æ–Ω-–∫–ª—é—á
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-service-role-–∫–ª—é—á
REPLICATE_API_TOKEN=–≤–∞—à-replicate-—Ç–æ–∫–µ–Ω
```

–ì–¥–µ –≤–∑—è—Ç—å —ç—Ç–∏ –∫–ª—é—á–∏:
- Supabase Dashboard ‚Üí **Settings** ‚Üí **API**
- Replicate Dashboard ‚Üí **API Tokens**

### –ì–æ—Ç–æ–≤–æ! Railway –≤—ã–¥–∞—Å—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π URL:
```
https://carete-montage-production-XXXX.up.railway.app
```

---

## –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–æ–º–µ–Ω montylist.ru

### –í Railway:

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–∏—Å
2. **Settings** ‚Üí **Domains** 
3. **Custom Domain** ‚Üí –≤–≤–µ–¥–∏—Ç–µ `montylist.ru`
4. Railway –ø–æ–∫–∞–∂–µ—Ç DNS –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å

–û–±—ã—á–Ω–æ —ç—Ç–æ:
```
Type: CNAME
Name: @
Value: –≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app
```

### –í reg.ru:

1. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç reg.ru
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–º** –¥–ª—è `montylist.ru`
3. **DNS-—Å–µ—Ä–≤–µ—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π** ‚Üí **–ò–∑–º–µ–Ω–∏—Ç—å**
4. –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏ –æ—Ç Railway:

**–ï—Å–ª–∏ Railway —Ç—Ä–µ–±—É–µ—Ç CNAME –¥–ª—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞ (@):**
- –£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é A –∑–∞–ø–∏—Å—å –¥–ª—è @
- –î–æ–±–∞–≤—å—Ç–µ CNAME –∑–∞–ø–∏—Å—å:
  ```
  –¢–∏–ø: CNAME
  –ü–æ–¥–¥–æ–º–µ–Ω: @
  –ó–Ω–∞—á–µ–Ω–∏–µ: –≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app
  ```

**–ï—Å–ª–∏ Railway –¥–∞–ª A –∑–∞–ø–∏—Å—å:**
- –î–æ–±–∞–≤—å—Ç–µ A –∑–∞–ø–∏—Å—å:
  ```
  –¢–∏–ø: A
  –ü–æ–¥–¥–æ–º–µ–Ω: @
  –ó–Ω–∞—á–µ–Ω–∏–µ: IP –æ—Ç Railway
  ```

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

### –û–∂–∏–¥–∞–Ω–∏–µ:
- DNS –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è **–æ—Ç 5 –º–∏–Ω—É—Ç –¥–æ 24 —á–∞—Å–æ–≤**
- –û–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **15-30 –º–∏–Ω—É—Ç**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `https://montylist.ru`

---

## –®–∞–≥ 3: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞.

–ß–µ—Ä–µ–∑ ~5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS:
- ‚úÖ `https://montylist.ru` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å HTTPS
- ‚úÖ –ó–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ Supabase

### URL Configuration:

**Supabase Dashboard** ‚Üí **Authentication** ‚Üí **URL Configuration**

1. **Site URL:** `https://montylist.ru`
2. **Redirect URLs:** –¥–æ–±–∞–≤—å—Ç–µ `https://montylist.ru/auth/callback`

### Email Template:

–í Supabase ‚Üí **Authentication** ‚Üí **Email Templates** ‚Üí **Confirm signup**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª `email-templates/confirmation-email.html`, –Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ URL:

```html
<!-- –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ YOUR_SITE_URL.vercel.app –Ω–∞: -->
<img src="https://montylist.ru/icons/monty-logo.svg" />
<img src="https://montylist.ru/email-bg.png" />
<img src="https://montylist.ru/icons/monty-logo-small.svg" />
```

**Subject:** `–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ Monty`

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–∞:
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://montylist.ru

# –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ email:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
   - ‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –î–∏–∑–∞–π–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ–±–∞–≤—å—Ç–µ www –ø–æ–¥–¥–æ–º–µ–Ω:

–í Railway –¥–æ–±–∞–≤—å—Ç–µ –µ—â–µ –æ–¥–∏–Ω –¥–æ–º–µ–Ω: `www.montylist.ru`

–í reg.ru –¥–æ–±–∞–≤—å—Ç–µ:
```
–¢–∏–ø: CNAME
–ü–æ–¥–¥–æ–º–µ–Ω: www
–ó–Ω–∞—á–µ–Ω–∏–µ: –≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main`:
```bash
git add .
git commit -m "Update something"
git push origin main

# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã
```

---

## ‚ö° CLI –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Railway:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
railway status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
railway logs

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
railway open

# –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
railway variables set KEY=value

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–º–µ–Ω—ã
railway domain
```

---

## üÜò Troubleshooting

### DNS –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
nslookup montylist.ru

# –ò–ª–∏ –æ–Ω–ª–∞–π–Ω
https://dnschecker.org/#A/montylist.ru
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å—Ç–∞—Ä—ã–π IP - –ø–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ (–¥–æ 24 —á–∞—Å–æ–≤ –º–∞–∫—Å–∏–º—É–º).

### Railway —Ç—Ä–µ–±—É–µ—Ç CNAME, –∞ reg.ru –Ω–µ –¥–∞–µ—Ç –¥–ª—è @:

**–†–µ—à–µ–Ω–∏–µ 1:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ALIAS –∏–ª–∏ ANAME (–µ—Å–ª–∏ reg.ru –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)

**–†–µ—à–µ–Ω–∏–µ 2:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cloudflare:
1. –î–æ–±–∞–≤—å—Ç–µ `montylist.ru` –≤ Cloudflare (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
2. –ò–∑–º–µ–Ω–∏—Ç–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã –≤ reg.ru –Ω–∞ Cloudflare
3. –í Cloudflare –¥–æ–±–∞–≤—å—Ç–µ CNAME –¥–ª—è @

**–†–µ—à–µ–Ω–∏–µ 3:** –ü–æ–ø—Ä–æ—Å–∏—Ç–µ Railway –≤—ã–¥–∞—Ç—å A –∑–∞–ø–∏—Å—å (IP)

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ email:

**–ü–ª–∞–Ω B:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase Storage
```bash
npm run upload-email-assets
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ URL –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ email template.

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞:

```
GitHub repo
    ‚Üì
Railway (–∞–≤—Ç–æ–¥–µ–ø–ª–æ–π)
    ‚Üì
https://montylist.ru ‚úÖ
    ‚Üì
Email –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç üñºÔ∏è
```

---

## üéâ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ **–°–µ–π—á–∞—Å:** –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ Railway
2. ‚úÖ **–ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –≤ reg.ru
3. ‚úÖ **–ß–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ montylist.ru —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç–µ:** Supabase URLs –∏ Email Template
5. ‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤–∞—à–µ–º –¥–æ–º–µ–Ω–µ

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:

- **–î–æ–º–µ–Ω montylist.ru:** —É–∂–µ –∫—É–ø–ª–µ–Ω ‚úÖ
- **Railway:** $5 trial credits ‚Üí –ø–æ—Ç–æ–º ~$5-10/–º–µ—Å
- **Supabase:** –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–¥–æ 500MB database)
- **Replicate:** pay-as-you-go (~$0.002 –∑–∞ –∑–∞–ø—Ä–æ—Å –∫ Gemini)

**–ò—Ç–æ–≥–æ:** ~$5-10/–º–µ—Å—è—Ü –ø–æ—Å–ª–µ trial –ø–µ—Ä–∏–æ–¥–∞

---

## üöÄ –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?

```bash
# 1. –ö–æ–º–º–∏—Ç –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add .
git commit -m "Ready for production deployment"
git push origin main

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI
npm install -g @railway/cli

# 3. –î–µ–ø–ª–æ–π!
railway login
railway init
railway up
```

–ß–µ—Ä–µ–∑ **5 –º–∏–Ω—É—Ç** –≤–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω! üéä

