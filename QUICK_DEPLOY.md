# ‚ö° –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ montylist.ru

## üéØ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (15 –º–∏–Ω—É—Ç)

---

### üìù –®–∞–≥ 1: –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (1 –º–∏–Ω)

```bash
cd /Users/andrewaitken/carete-montage
git add .
git commit -m "Ready for production on montylist.ru"
git push origin main
```

---

### üöÇ –®–∞–≥ 2: –î–µ–ø–ª–æ–π –Ω–∞ Railway (5 –º–∏–Ω)

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø—Ä–æ—â–µ)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [railway.app](https://railway.app)
2. **Sign up** —á–µ—Ä–µ–∑ GitHub
3. **New Project** ‚Üí **Deploy from GitHub repo**
4. –í—ã–±–µ—Ä–∏—Ç–µ `carete-montage`
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–ø–ª–æ—è (2-3 –º–∏–Ω—É—Ç—ã)

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ CLI (–±—ã—Å—Ç—Ä–µ–µ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI
npm install -g @railway/cli

# –í–æ–π–¥–∏—Ç–µ (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä)
railway login

# –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
railway init

# –î–µ–ø–ª–æ–π!
railway up
```

---

### üîê –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (2 –º–∏–Ω)

–í Railway ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Variables** ‚Üí **New Variable**

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –≤–∞—à–µ–≥–æ `.env.local`:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
cat .env.local
```

–î–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –≤ Railway:
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `REPLICATE_API_TOKEN`

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

---

### üåê –®–∞–≥ 4: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–æ–º–µ–Ω montylist.ru (5 –º–∏–Ω)

#### –í Railway:

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å ‚Üí **Settings** ‚Üí **Domains**
2. **Custom Domain**
3. –í–≤–µ–¥–∏—Ç–µ: `montylist.ru`
4. Railway –ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ DNS (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ!)

–û–±—ã—á–Ω–æ —ç—Ç–æ –±—É–¥–µ—Ç:
```
CNAME @ ‚Üí –≤–∞—à-–ø—Ä–æ–µ–∫—Ç.up.railway.app
```

#### –í reg.ru:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [reg.ru](https://www.reg.ru/user/domain_list)
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ **montylist.ru** ‚Üí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
3. **DNS-—Å–µ—Ä–≤–µ—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π**
4. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å:**

**–ï—Å–ª–∏ Railway –¥–∞–ª CNAME:**
```
–¢–∏–ø: CNAME
–ò–º—è: @
–ó–Ω–∞—á–µ–Ω–∏–µ: carete-montage-production.up.railway.app
```

**–ï—Å–ª–∏ Railway –¥–∞–ª A –∑–∞–ø–∏—Å—å (IP):**
```
–¢–∏–ø: A
–ò–º—è: @
–ó–Ω–∞—á–µ–Ω–∏–µ: 1.2.3.4 (IP –æ—Ç Railway)
```

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**

‚è≥ **–û–∂–∏–¥–∞–π—Ç–µ 5-30 –º–∏–Ω—É—Ç** –ø–æ–∫–∞ DNS –æ–±–Ω–æ–≤–∏—Ç—Å—è

---

### ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ (2 –º–∏–Ω)

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
nslookup montylist.ru

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://montylist.ru
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ - **–≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!** üéâ

---

### üìß –®–∞–≥ 6: –û–±–Ω–æ–≤–∏—Ç–µ Supabase (2 –º–∏–Ω)

#### A) URL Configuration:

Supabase Dashboard ‚Üí **Authentication** ‚Üí **URL Configuration**

- **Site URL:** `https://montylist.ru`
- **Redirect URLs:** `https://montylist.ru/auth/callback`

#### B) Email Template:

Supabase Dashboard ‚Üí **Authentication** ‚Üí **Email Templates** ‚Üí **Confirm signup**

1. **Subject:** `–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ Monty`

2. **Message Body (HTML):**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `email-templates/confirmation-email.html`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** HTML (—É–∂–µ –≥–æ—Ç–æ–≤ —Å montylist.ru!)
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤ Supabase

3. **Save**

---

### üß™ –®–∞–≥ 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 –º–∏–Ω)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://montylist.ru`
2. –ù–∞–∂–º–∏—Ç–µ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º email
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É
5. Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—Ä–∞—Å–∏–≤—ã–º —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏! üé®
6. –ù–∞–∂–º–∏—Ç–µ **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å**
7. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
8. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ

‚úÖ **–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

## üî• CLI –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Railway:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
railway logs

# –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç
railway open

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
railway variables

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–º–µ–Ω—ã
railway domain

# –°—Ç–∞—Ç—É—Å
railway status
```

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### DNS –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ: [https://dnschecker.org/#A/montylist.ru](https://dnschecker.org/#A/montylist.ru)

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–º ‚úÖ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö.

–ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ (–¥–æ 24 —á–∞—Å–æ–≤).

### Email –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:

**–ü–ª–∞–Ω B - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase Storage:**

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Supabase
npm run upload-email-assets

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ URL –∏–∑ –≤—ã–≤–æ–¥–∞
# –ó–∞–º–µ–Ω–∏—Ç–µ –≤ email template montylist.ru –Ω–∞ Supabase URL
```

---

## üéä –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:
- ‚úÖ –°–∞–π—Ç –Ω–∞ **https://montylist.ru**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ email —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ main

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~15 –º–∏–Ω—É—Ç

**–°–ª–µ–¥—É—é—â–∏–π –¥–µ–ø–ª–æ–π:** –ø—Ä–æ—Å—Ç–æ `git push` - Railway –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üöÄ

