# ‚úÖ –†–µ—à–µ–Ω–∏–µ: Supabase Storage –¥–ª—è Email (–ë–ï–ó –¥–µ–ø–ª–æ—è!)

## üéØ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è email —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ Supabase!

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞:**

‚úÖ **Logo:** https://goykmdyodqhptkzfgumq.supabase.co/storage/v1/object/public/email-assets/monty-logo.svg

‚úÖ **Small Logo:** https://goykmdyodqhptkzfgumq.supabase.co/storage/v1/object/public/email-assets/monty-logo-small.svg

‚úÖ **Background:** https://goykmdyodqhptkzfgumq.supabase.co/storage/v1/object/public/email-assets/email-bg.png

---

## üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email Template (2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π HTML

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: `email-templates/confirmation-email-supabase.html`

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
```bash
cat email-templates/confirmation-email-supabase.html
```

### –®–∞–≥ 2: –í—Å—Ç–∞–≤—å—Ç–µ –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard**
2. **Authentication** ‚Üí **Email Templates**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Confirm signup**
4. **Subject:** 
   ```
   –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ Monty
   ```
5. **Message Body (HTML):** –í—Å—Ç–∞–≤—å—Ç–µ –≤–µ—Å—å HTML –∏–∑ —Ñ–∞–π–ª–∞
6. **Save**

### ‚úÖ –ì–æ—Ç–æ–≤–æ! Email —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä—É–∑—è—Ç—Å—è –ø—Ä—è–º–æ –∏–∑ Supabase Storage - –Ω–∏–∫–∞–∫–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –Ω–µ –Ω—É–∂–Ω–æ!

---

## üöÄ –î–ª—è —Å–∞–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω—É–∂–µ–Ω —Ö–æ—Å—Ç–∏–Ω–≥

**–í–∞–∂–Ω–æ:** Supabase - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ storage. –î–ª—è Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∞.

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: Railway (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å—Ç–∞—Ä—Ç)

**–ü–æ—á–µ–º—É Railway:**
- ‚úÖ $5 trial credits (—Ö–≤–∞—Ç–∏—Ç –Ω–∞ –º–µ—Å—è—Ü —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–æ—Å—Å–∏–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL

**–ü–æ—Å–ª–µ trial:** ~$5/–º–µ—Å—è—Ü (–æ—á–µ–Ω—å –¥–µ—à–µ–≤–æ!)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

```bash
# 1. –ö–æ–º–º–∏—Ç –∫–æ–¥–∞
git add .
git commit -m "Ready for production"
git push origin main

# 2. Railway CLI
npm install -g @railway/cli
railway login
railway init
railway up

# 3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
railway variables set NEXT_PUBLIC_SUPABASE_URL="$(grep NEXT_PUBLIC_SUPABASE_URL .env.local | cut -d '=' -f2)"
railway variables set NEXT_PUBLIC_SUPABASE_ANON_KEY="$(grep NEXT_PUBLIC_SUPABASE_ANON_KEY .env.local | cut -d '=' -f2)"
railway variables set SUPABASE_SERVICE_ROLE_KEY="$(grep SUPABASE_SERVICE_ROLE_KEY .env.local | cut -d '=' -f2)"
railway variables set REPLICATE_API_TOKEN="$(grep REPLICATE_API_TOKEN .env.local | cut -d '=' -f2)"

# 4. –ü–æ–ª—É—á–∏—Ç–µ URL
railway domain
```

### –ü–æ–¥–∫–ª—é—á–∏—Ç–µ montylist.ru:

–í Railway:
1. **Settings** ‚Üí **Domains** ‚Üí **Custom Domain**
2. –í–≤–µ–¥–∏—Ç–µ `montylist.ru`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è reg.ru DNS

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –±–µ–∑ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (—Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è email –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev server
npm run dev

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —Å–¥–µ–ª–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
npx localtunnel --port 3000 --subdomain montylist

# –ü–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è email
```

‚ö†Ô∏è **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∑–∞–π–Ω–∞ email!

---

## üéØ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

### –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚úÖ **Email –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - –≤ Supabase Storage (–±–µ—Å–ø–ª–∞—Ç–Ω–æ!)
‚úÖ **Email template** - –≥–æ—Ç–æ–≤ (`confirmation-email-supabase.html`)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
üîß **–•–æ—Å—Ç–∏–Ω–≥ Next.js** - Railway ($5/–º–µ—Å –ø–æ—Å–ª–µ trial)

### –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:
- **–î–æ–º–µ–Ω montylist.ru:** ~300‚ÇΩ/–≥–æ–¥
- **Supabase:** —É–∂–µ –æ–ø–ª–∞—á–µ–Ω ‚úÖ
- **Railway:** $5 trial ‚Üí –ø–æ—Ç–æ–º $5-10/–º–µ—Å
- **Replicate:** pay-as-you-go (~$0.10 –∑–∞ –≤–∏–¥–µ–æ)

**–ò—Ç–æ–≥–æ:** ~$5-10/–º–µ—Å—è—Ü = ~500-1000‚ÇΩ/–º–µ—Å—è—Ü

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç:

- [x] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ Supabase Storage
- [x] Email template –≥–æ—Ç–æ–≤ (confirmation-email-supabase.html)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å email template –≤ Supabase (2 –º–∏–Ω)
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway (5 –º–∏–Ω)
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å montylist.ru (5 –º–∏–Ω)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

---

## ‚ö° –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:

**–ù–∞—Å—Ç—Ä–æ–π—Ç–µ email template –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å** (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–µ–ø–ª–æ—è):

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. Authentication ‚Üí Email Templates ‚Üí Confirm signup
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `email-templates/confirmation-email-supabase.html`
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ Supabase
5. Save

**–ì–æ—Ç–æ–≤–æ!** Email —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ä–∞–∑—É! üé®

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∞–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - —Å–ª–µ–¥—É–π—Ç–µ `QUICK_DEPLOY.md` üöÄ

