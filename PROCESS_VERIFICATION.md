# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ V5

## –ì–ª–∞–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–¢–æ—á–Ω—ã–µ —Ç–∞–π–º–∫–æ–¥—ã** ‚úÖ
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã** ‚úÖ
3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ —Å –∏—Ö —Ä–µ–ø–ª–∏–∫–∞–º–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–ª–∞–Ω–∞—Ö** ‚úÖ

---

## 1. üìù –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ü–µ–Ω–∞—Ä–∏—è

**–§–∞–π–ª:** `lib/script-parser-deterministic.ts`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–∞—Ä—Å–∏—Ç DOCX/DOC/TXT –ë–ï–ó LLM
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É: `–ò–ú–Ø –ü–ï–†–°–û–ù–ê–ñ–ê` (–∑–∞–≥–ª–∞–≤–Ω—ã–º–∏)
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∏–º–µ–Ω–∞: `–í–ê–õ–Ø` ‚Üí `–í–ê–õ–ï–ù–¢–ò–ù–ê`, `–ì–ê–õ–Ø` ‚Üí `–ì–ê–õ–ò–ù–ê`
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–º—ë–Ω –∏–∑ `NAME_VARIANTS`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç—ã –∏–º—ë–Ω —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è (–í–ê–õ–Ø = –í–ê–õ–ï–ù–¢–ò–ù–ê = –®–£–†–û–ß–ö–ê)
- ‚úÖ –†–µ–ø–ª–∏–∫–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–µ –∏–ª–∏ –∏–º–µ—Ç—å –º–∞–ª–æ —Ä–µ–ø–ª–∏–∫

---

## 2. üé§ –ü–æ–ª–Ω–∞—è –∞—É–¥–∏–æ-–¥–∏–∞—Ä–∏–∑–∞—Ü–∏—è

**–§–∞–π–ª:** `lib/full-audio-diarization.ts`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –î–∏–∞—Ä–∏–∑—É–µ—Ç –í–ï–°–¨ —Ñ–∏–ª—å–º —Å—Ä–∞–∑—É (AssemblyAI)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç speakers (A, B, C, D, ...)
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å–ª–æ–≤–∞ —Å —Ç–æ—á–Ω—ã–º–∏ —Ç–∞–π–º–∫–æ–¥–∞–º–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ Speakers –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –¢–∞–π–º–∫–æ–¥—ã —Ç–æ—á–Ω—ã–µ (word-level timestamps)
- ‚úÖ –°–ª–æ–≤–∞ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## 3. üìä ASR‚ÜîScript Alignment

**–§–∞–π–ª:** `lib/asr-script-alignment.ts`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–æ–≤–∞ –∏–∑ ASR —Å —Ä–µ–ø–ª–∏–∫–∞–º–∏ –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç fuzzy matching –∏ embeddings
- –°–æ–∑–¥–∞—ë—Ç –º–∞–ø–ø–∏–Ω–≥: `speaker_id ‚Üí character_name`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ Alignment —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–ø–ª–∏–∫

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ –º–∞–ø–ø–∏—Ç—å—Å—è, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –≤ —Å–∫—Ä–∏–ø—Ç–µ

---

## 4. üé≠ Face Clustering

**–§–∞–π–ª:** `lib/face-clustering.ts`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–∞–¥—Ä—ã (–∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥)
- –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –ª–∏—Ü–∞ (face-api.js)
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑—É–µ—Ç –ª–∏—Ü–∞ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ = –æ–¥–∏–Ω –∫–ª–∞—Å—Ç–µ—Ä)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –õ–∏—Ü–∞ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–ª–∞—Å—Ç–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## 5. üîó Auto-binding –ª–∏—Ü –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º

**–§–∞–π–ª:** `app/api/init-processing-v5/route.ts` (—Å—Ç—Ä–æ–∫–∏ 366-380)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã –ø–æ —á–∞—Å—Ç–æ—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏—è
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ä–µ–ø–ª–∏–∫
- –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ç–æ–ø-10 –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –∫ —Ç–æ–ø-10 –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –õ–∏—Ü–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ —á–∞—Å—Ç–æ—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ –ø–æ–ø–∞—Å—Ç—å –≤ —Ç–æ–ø-10, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –º–∞–ª–æ —Ä–µ–ø–ª–∏–∫

---

## 6. üó∫Ô∏è Speaker‚ÜíCharacter Mapping

**–§–∞–π–ª:** `lib/speaker-character-mapper.ts`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–±–∏—Ä–∞–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
  1. ASR‚ÜîScript alignment (–≤–µ—Å 3.0) - —Å–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π
  2. Voice embeddings (–≤–µ—Å 1.2)
  3. Name mentions (–≤–µ—Å 1.0)
  4. Face presence (–≤–µ—Å 0.7)
  5. Gemini hints (–≤–µ—Å 0.3) - —Å–∞–º—ã–π —Å–ª–∞–±—ã–π
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–æ "no jumps": –æ–¥–∏–Ω speaker = –æ–¥–∏–Ω character
- Lock'–∏—Ç –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ ‚â•0.55

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
- ‚úÖ Lock —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ –º–∞–ø–ø–∏—Ç—å—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤

---

## 7. üí¨ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤

**–§–∞–π–ª:** `app/api/process-chunk-v5/route.ts` (—Å—Ç—Ä–æ–∫–∏ 255-410)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ü–µ–Ω—ã –∏–∑ PySceneDetect:
  1. –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ª–æ–≤–∞ –ø–æ —Ç–∞–π–º–∫–æ–¥–∞–º —Å—Ü–µ–Ω—ã (¬±1000ms –∫–æ–Ω—Ç–µ–∫—Å—Ç)
  2. –§–∏–ª—å—Ç—Ä—É–µ—Ç false positives (–º—É–∑—ã–∫–∞, —Ç–∏—Ç—Ä—ã)
  3. –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–ª–æ–≤–∞ –ø–æ speaker'–∞–º
  4. –†–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ —Ä–µ–ø–ª–∏–∫–∏ –ø–æ –ø–∞—É–∑–∞–º (>1000ms)
  5. –ú–∞–ø–ø–∏—Ç speaker ‚Üí character
  6. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç "–ó–∞ –∫–∞–¥—Ä–æ–º" (–ó–ö) –ø–æ –Ω–∞–ª–∏—á–∏—é –ª–∏—Ü–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –¢–∞–π–º–∫–æ–¥—ã —Ç–æ—á–Ω—ã–µ (–∏–∑ ASR startMs, endMs)
- ‚úÖ –†–µ–ø–ª–∏–∫–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ó–ö –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–ª–∏—á–µ–Ω–æ: ¬±500ms ‚Üí ¬±1000ms
- ‚úÖ –ü–æ—Ä–æ–≥ –ø–∞—É–∑—ã —É–≤–µ–ª–∏—á–µ–Ω: 500ms ‚Üí 1000ms

---

## 8. üìã –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–æ–≤

**–§–∞–π–ª:** `app/api/process-chunk-v5/route.ts` (—Å—Ç—Ä–æ–∫–∏ 410-530)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ü–µ–Ω—ã –∏–∑ PySceneDetect —Å–æ–∑–¥–∞—ë—Ç –æ–¥–∏–Ω –ø–ª–∞–Ω
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã —Å—Ü–µ–Ω—ã –∏–∑ PySceneDetect (–Ω–µ —Ç–µ—Ä—è–µ—Ç –ø–ª–∞–Ω—ã)
- –£—Ç–æ—á–Ω—è–µ—Ç —Ç–∞–π–º–∫–æ–¥—ã –¥–∏–∞–ª–æ–≥–∞–º–∏ (–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —Å—Ü–µ–Ω—ã)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ –ø–ª–∞–Ω—ã —Å–æ–∑–¥–∞–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ = –æ–¥–∏–Ω –ø–ª–∞–Ω
- ‚úÖ –ì—Ä–∞–Ω–∏—Ü—ã —Å—Ü–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –¢–∞–π–º–∫–æ–¥—ã —É—Ç–æ—á–Ω—è—é—Ç—Å—è –¥–∏–∞–ª–æ–≥–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `plansCreated === scenesInChunk.length`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ç–µ—Ä–∏ –ø–ª–∞–Ω–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–∞–Ω–∫–æ–≤

---

## 9. ü§ñ Gemini –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π

**–§–∞–π–ª:** `app/api/process-chunk-v5/route.ts` (—Å—Ç—Ä–æ–∫–∏ 180-240)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í—ã–∑—ã–≤–∞–µ—Ç Gemini —á–µ—Ä–µ–∑ Replicate –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π
- –¢–∞–π–º–∞—É—Ç: 60 —Å–µ–∫—É–Ω–¥
- Retry: 2 –ø–æ–ø—ã—Ç–∫–∏
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏–π, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è Gemini –ø–∞–¥–∞–µ—Ç –ø–æ—Å–ª–µ 2 –ø–æ–ø—ã—Ç–æ–∫
- Replicate —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –¢–∞–π–º–∞—É—Ç —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (60s –¥–ª—è –±–æ–ª—å—à–∏—Ö —á–∞–Ω–∫–æ–≤)
2. Network instability
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è —Ç–∏–ø –æ—à–∏–±–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏–µ, isNetworkError

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
- –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ Replicate

---

## –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### ‚úÖ –¢–∞–π–º–∫–æ–¥—ã
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ—á–Ω—ã–µ —Ç–∞–π–º–∫–æ–¥—ã –∏–∑ ASR (startMs, endMs)
- –ì—Ä–∞–Ω–∏—Ü—ã —Å—Ü–µ–Ω—ã –∏–∑ PySceneDetect —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –¢–∞–π–º–∫–æ–¥—ã —É—Ç–æ—á–Ω—è—é—Ç—Å—è –¥–∏–∞–ª–æ–≥–∞–º–∏ (–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–æ—á–Ω—ã–µ —Ç–∞–π–º–∫–æ–¥—ã ‚úÖ**

### ‚úÖ –ü–ª–∞–Ω—ã
- –ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ –∏–∑ PySceneDetect = –æ–¥–∏–Ω –ø–ª–∞–Ω
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `plansCreated === scenesInChunk.length`
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã ‚úÖ**

### ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏
- Speaker ‚Üí Character mapping —Ä–∞–±–æ—Ç–∞–µ—Ç
- –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
- –í–∞—Ä–∏–∞–Ω—Ç—ã –∏–º—ë–Ω —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è (–í–ê–õ–Ø = –í–ê–õ–ï–ù–¢–ò–ù–ê = –®–£–†–û–ß–ö–ê)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ ‚úÖ**

### ‚úÖ –†–µ–ø–ª–∏–∫–∏
- –†–µ–ø–ª–∏–∫–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ ASR
- –§–∏–ª—å—Ç—Ä—É—é—Ç—Å—è false positives
- –†–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ø–æ –ø–∞—É–∑–∞–º (>1000ms)
- –ú–∞–ø–ø—è—Ç—Å—è –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–ª–∞–Ω–∞—Ö ‚úÖ**

---

## –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ö†Ô∏è –ò–û–°–ò–§ –Ω–µ –º–∞–ø–ø–∏—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–µ
- –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Ç–æ–ø-10 –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ò–û–°–ò–§ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å—Å—è ASR

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –ò–û–°–ò–§ –≤ —Å–∫—Ä–∏–ø—Ç–µ
- –î–æ–±–∞–≤–∏—Ç—å –ò–û–°–ò–§ –≤—Ä—É—á–Ω—É—é –≤ speaker-character mapping
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ASR - —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –ª–∏ –ò–û–°–ò–§

---

### ‚ö†Ô∏è Gemini –ø–∞–¥–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:**
- –¢–∞–π–º–∞—É—Ç (60s –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∞–ª–æ)
- Network instability
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
- –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ Replicate

---

## –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
2025-01-15
