# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å 5 API –∫–ª—é—á–∞–º–∏

## ‚ö° –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ?

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É** –≤–∏–¥–µ–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Replicate API –∫–ª—é—á–µ–π!

### –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. ‚úÖ **–ü—É–ª –∏–∑ 5 API –∫–ª—é—á–µ–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
2. ‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞–Ω–∫–æ–≤** - –¥–æ 5 —á–∞–Ω–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. ‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ –≤ 3-5 —Ä–∞–∑** - –≤–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
4. ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∫–∞–∂–¥–æ–µ –≤–∏–¥–µ–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (2 —à–∞–≥–∞):

### 1Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ .env.local

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env.local` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
REPLICATE_API_TOKEN_1=r8_your_first_token_here
REPLICATE_API_TOKEN_2=r8_your_second_token_here
REPLICATE_API_TOKEN_3=r8_your_third_token_here
REPLICATE_API_TOKEN_4=r8_your_fourth_token_here
REPLICATE_API_TOKEN_5=r8_your_fifth_token_here
```

### 2Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
npm run dev
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–í –ª–æ–≥–∞—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üîë Initialized Replicate pool with 5 API key(s)
```

–ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∏–¥–µ–æ:

```
üöÄ Processing 6 pending chunks in parallel...
üéØ Processing batch 1/2 (5 chunks)
üîë Using API key #1 (1 active requests)
üîë Using API key #2 (1 active requests)
...
‚úÖ Chunk 0 completed: 15 scenes
üìä Batch 1 completed: 5 successful, 0 failed
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–í–∞–∂–Ω–æ:** 1 —á–∞–Ω–∫ = 20 –º–∏–Ω—É—Ç –≤–∏–¥–µ–æ

### –ë—ã–ª–æ (1 –∫–ª—é—á, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ):

```
–í–∏–¥–µ–æ 60 –º–∏–Ω—É—Ç = 3 —á–∞–Ω–∫–∞ √ó 2 –º–∏–Ω—É—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ = 6 –º–∏–Ω—É—Ç
–í–∏–¥–µ–æ 100 –º–∏–Ω—É—Ç = 5 —á–∞–Ω–∫–æ–≤ √ó 2 –º–∏–Ω—É—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ = 10 –º–∏–Ω—É—Ç
```

### –°—Ç–∞–ª–æ (5 –∫–ª—é—á–µ–π, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ):

```
–í–∏–¥–µ–æ 60 –º–∏–Ω—É—Ç = 3 —á–∞–Ω–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ = 2 –º–∏–Ω—É—Ç—ã
–í–∏–¥–µ–æ 100 –º–∏–Ω—É—Ç = 5 —á–∞–Ω–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ = 2 –º–∏–Ω—É—Ç—ã
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 3-5x!** üöÄ

### –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–µ–æ:

```
5 –≤–∏–¥–µ–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Üí –≤—Å–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –º–µ–∂–¥—É –∫–ª—é—á–∞–º–∏
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `lib/replicate-pool.ts` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª, –ø—É–ª API –∫–ª—é—á–µ–π
2. `app/api/process-chunk/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–ª –∫–ª—é—á–µ–π
3. `app/api/process-all-chunks/route.ts` - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞–º–∏

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. —Ñ–∞–π–ª `REPLICATE_POOL_SETUP.md` –¥–ª—è:
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ batch size
- Troubleshooting
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–µ–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π! üöÄ

---

**–í–∞–∂–Ω–æ:** –°–ª–µ–¥–∏—Ç–µ –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º –Ω–∞ –≤—Å–µ—Ö 5 Replicate –∞–∫–∫–∞—É–Ω—Ç–∞—Ö, —Ç–∞–∫ –∫–∞–∫ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏.

