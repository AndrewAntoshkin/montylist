# ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∂–∞—Ç–∏—è –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏

## ‚úÖ –ß–¢–û –ò–ó–ú–ï–ù–ï–ù–û:

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã FFmpeg –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è **–±—ã—Å—Ç—Ä–æ–≥–æ —Å–∂–∞—Ç–∏—è**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|------|-------|--------|
| **preset** | `medium` | `ultrafast` | üöÄ **3-5x –±—ã—Å—Ç—Ä–µ–µ!** |
| **crf** | `28` | `30` | –ß—É—Ç—å –±–æ–ª—å—à–µ —Å–∂–∞—Ç–∏–µ |
| **–†–∞–∑–º–µ—Ä** | ~180 –ú–ë | ~180-200 –ú–ë | +10-20 –ú–ë |

### üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏:

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (medium preset):**
- –°–∫–æ—Ä–æ—Å—Ç—å: 3.7 fps
- –î–ª—è –≤–∏–¥–µ–æ 1.2 –ì–ë (60 –º–∏–Ω): **~6 —á–∞—Å–æ–≤** ‚è≥

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (ultrafast preset):**
- –°–∫–æ—Ä–æ—Å—Ç—å: 15-20 fps (–æ–∂–∏–¥–∞–µ—Ç—Å—è)
- –î–ª—è –≤–∏–¥–µ–æ 1.2 –ì–ë (60 –º–∏–Ω): **~15-20 –º–∏–Ω—É—Ç** ‚ö°

### üéØ –ö–æ–º–ø—Ä–æ–º–∏—Å—Å:

```
‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å: 3-5x –ë–´–°–¢–†–ï–ï
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ: –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ç–∞–∫–æ–µ –∂–µ
‚ö†Ô∏è –†–∞–∑–º–µ—Ä: +10-20 –ú–ë (~200 –ú–ë –≤–º–µ—Å—Ç–æ 180 –ú–ë)
```

---

## üöÄ –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨ –°–ï–ô–ß–ê–°:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

```bash
# –í –±—Ä–∞—É–∑–µ—Ä–µ:
Cmd+R (Mac) –∏–ª–∏ Ctrl+R (Windows)
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –º–æ–¥–∞–ª –∑–∞–Ω–æ–≤–æ.

### 2. –ù–∞–∂–º–∏—Ç–µ —Å–∏–Ω—é—é –∫–Ω–æ–ø–∫—É "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞"

–¢–µ–ø–µ—Ä—å –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç:
```
‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Å–∂–∞—Ç–∏–µ –¥–æ ~180-200 –ú–ë
```

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∞—à–µ –≤–∏–¥–µ–æ 1.2 –ì–ë

### 4. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å"

–¢–µ–ø–µ—Ä—å —É–≤–∏–¥–∏—Ç–µ:
```
–ë—ã—Å—Ç—Ä–æ–µ —Å–∂–∞—Ç–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (ultrafast mode)
```

### 5. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–æ–Ω—Å–æ–ª—å—é

–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:
```
*frame=XXX fps=15-20 q=45.0
```

–í–º–µ—Å—Ç–æ –ø—Ä–µ–∂–Ω–∏—Ö `fps=3.7` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **15-20 fps**!

---

## ‚è∞ –ù–û–í–ê–Ø –û–¶–ï–ù–ö–ê –í–†–ï–ú–ï–ù–ò:

### –î–ª—è –≤–∏–¥–µ–æ 1.2 –ì–ë (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ ~60 –º–∏–Ω—É—Ç):

**–§–∞–∑—ã:**

1. **–°–∂–∞—Ç–∏–µ:** 15-20 –º–∏–Ω—É—Ç ‚ö°
   - fps –±—É–¥–µ—Ç ~15-20 (–≤–º–µ—Å—Ç–æ 3.7)
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —á–∞—â–µ
   
2. **–ó–∞–≥—Ä—É–∑–∫–∞:** 2-5 –º–∏–Ω—É—Ç
   - ~180-200 –ú–ë –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ AI:** –∫–∞–∫ –æ–±—ã—á–Ω–æ
   - Chunked processing –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ò—Ç–æ–≥–æ: ~20-25 –º–∏–Ω—É—Ç** (–≤–º–µ—Å—Ç–æ —á–∞—Å–æ–≤!)

---

## üìä –ß–¢–û –°–ú–û–¢–†–ï–¢–¨ –í –ö–û–ù–°–û–õ–ò:

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

```javascript
// –†–ê–ù–¨–®–ï (medium):
*frame=1347 fps=3.7 q=48.0 size=4096kB
                ^^^^ –ú–ï–î–õ–ï–ù–ù–û

// –°–ï–ô–ß–ê–° (ultrafast):
*frame=5432 fps=18.5 q=45.0 size=12MB
                ^^^^^ –ë–´–°–¢–†–û! 
```

### –ï—Å–ª–∏ fps –≤—Å—ë –µ—â—ë –Ω–∏–∑–∫–∏–π (<10):

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞:
- –°–ª–∞–±—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä Mac
- –î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∂–∞—é—Ç —Å–∏—Å—Ç–µ–º—É
- –û—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ (4K?)

---

## üéõÔ∏è –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

### –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –º–µ–¥–ª–µ–Ω–Ω–æ, –º–æ–∂–Ω–æ:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ 480p

```typescript
'-vf', 'scale=-2:480',  // –í–º–µ—Å—Ç–æ 720
```
–ë—É–¥–µ—Ç **–µ—â—ë –±—ã—Å—Ç—Ä–µ–µ**, –Ω–æ —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ.

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–≤–µ–ª–∏—á–∏—Ç—å target size

```typescript
const targetSizeMB = 250;  // –í–º–µ—Å—Ç–æ 180
```
–ú–µ–Ω—å—à–µ —Å–∂–∞—Ç–∏–µ = –±—ã—Å—Ç—Ä–µ–µ.

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ

–î–ª—è —Ç–µ—Å—Ç–∞ –≤–æ–∑—å–º–∏—Ç–µ:
- 5-10 –º–∏–Ω—É—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- 200-300 –ú–ë —Ä–∞–∑–º–µ—Ä–æ–º
- –£–≤–∏–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã!

---

## üî¨ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:

### FFmpeg presets (–æ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∫ –º–µ–¥–ª–µ–Ω–Ω–æ–º—É):

| Preset | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ | –†–∞–∑–º–µ—Ä |
|--------|----------|----------|--------|
| **ultrafast** | üöÄüöÄüöÄüöÄüöÄ | ‚≠ê‚≠ê‚≠ê | üíæüíæüíæ |
| **superfast** | üöÄüöÄüöÄüöÄ | ‚≠ê‚≠ê‚≠ê‚≠ê | üíæüíæ |
| **veryfast** | üöÄüöÄüöÄ | ‚≠ê‚≠ê‚≠ê‚≠ê | üíæüíæ |
| **faster** | üöÄüöÄ | ‚≠ê‚≠ê‚≠ê‚≠ê | üíæ |
| **fast** | üöÄ | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | üíæ |
| **medium** | üêåüêå | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | üíæ |

–ú—ã –≤—ã–±—Ä–∞–ª–∏ **ultrafast** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏!

### CRF (Constant Rate Factor):

| CRF | –ö–∞—á–µ—Å—Ç–≤–æ | –†–∞–∑–º–µ—Ä |
|-----|----------|--------|
| 18-23 | –û—Ç–ª–∏—á–Ω–æ–µ | –ë–æ–ª—å—à–æ–π |
| 24-28 | –•–æ—Ä–æ—à–µ–µ | –°—Ä–µ–¥–Ω–∏–π |
| **29-32** | –ü—Ä–∏–µ–º–ª–µ–º–æ–µ | –ú–∞–ª–µ–Ω—å–∫–∏–π |

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **CRF 30** (–±–∞–ª–∞–Ω—Å —Ä–∞–∑–º–µ—Ä/–∫–∞—á–µ—Å—Ç–≤–æ).

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:

**–û—Å—Ç–∞–≤—å—Ç–µ ultrafast preset!**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Ö–æ—Ç—è—Ç –∂–¥–∞—Ç—å —á–∞—Å–∞–º–∏
- 15-20 –º–∏–Ω—É—Ç - –ø—Ä–∏–µ–º–ª–µ–º–æ–µ –≤—Ä–µ–º—è
- –ö–∞—á–µ—Å—Ç–≤–æ 720p –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞

### –ï—Å–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:

–ú–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å:
```typescript
'-preset', 'fast',  // –ö–æ–º–ø—Ä–æ–º–∏—Å—Å: 2x –±—ã—Å—Ç—Ä–µ–µ —á–µ–º medium
'-crf', '28',       // –õ—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ
```

---

## üéâ –ò–¢–û–ì:

### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞!

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- preset: `medium` ‚Üí `ultrafast`
- crf: `28` ‚Üí `30`
- UI —Ç–µ–∫—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **3-5x –±—ã—Å—Ç—Ä–µ–µ** —Å–∂–∞—Ç–∏–µ
- ~180-200 –ú–ë –∏—Ç–æ–≥–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä
- 15-20 –º–∏–Ω—É—Ç –¥–ª—è 1.2 –ì–ë –≤–∏–¥–µ–æ

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Cmd+R)
2. –û—Ç–∫—Ä–æ–π—Ç–µ "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞" –∑–∞–Ω–æ–≤–æ
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ 1.2 –ì–ë
4. –ù–∞–±–ª—é–¥–∞–π—Ç–µ fps ~15-20 –≤ –∫–æ–Ω—Å–æ–ª–∏!

---

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å –∏ –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç!** üöÄ




