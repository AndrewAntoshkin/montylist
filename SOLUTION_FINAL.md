# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

## üîç –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ê–°–°–õ–ï–î–û–í–ê–ù–ò–Ø:

### –¢–µ—Å—Ç—ã –ø–æ–∫–∞–∑–∞–ª–∏:

| –ú–µ—Ç–æ–¥ | –†–∞–∑–º–µ—Ä | Endpoint | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-------|--------|----------|-----------|
| Server SDK | 1 MB | `/object/videos/...` | ‚úÖ SUCCESS |
| Server SDK | 100 MB | `/object/videos/...` | ‚úÖ SUCCESS (10s) |
| Browser Signed URL | 1 MB | `/object/upload/sign/...` | ‚úÖ SUCCESS |
| Browser Signed URL | 117 MB | `/object/upload/sign/...` | ‚ùå 502 error |
| Browser Signed URL | 138 MB | `/object/upload/sign/...` | ‚ùå 502 error |

---

## üéØ –ö–û–†–ï–ù–¨ –ü–†–û–ë–õ–ï–ú–´:

**Supabase Signed Upload URLs –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ ~100-120 MB!**

–≠—Ç–æ –Ω–µ –±–∞–≥ –Ω–∞—à–µ–≥–æ –∫–æ–¥–∞, –∞ **–ª–∏–º–∏—Ç Supabase Storage** –¥–ª—è browser uploads —á–µ—Ä–µ–∑ signed URLs.

### –ü–æ—á–µ–º—É —Ä–∞–Ω—å—à–µ —Ä–∞–±–æ—Ç–∞–ª–æ:
- –ù–∞ 18.11.2025 —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ —Ñ–∞–π–ª–∞—Ö **87 MB** ‚Üí —Ä–∞–±–æ—Ç–∞–ª–æ ‚úÖ
- –ù–∞ 20.11.2025 —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã **117-138 MB** ‚Üí –ø–∞–¥–∞–µ—Ç ‚ùå

---

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:

### 1. **–£–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä server-side —á–∞–Ω–∫–æ–≤**

`lib/video-chunking.ts`:
```diff
- CHUNK_DURATION = 1200 —Å–µ–∫—É–Ω–¥ (20 –º–∏–Ω—É—Ç)
- –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞: ~153 MB (–±–æ–ª—å—à–µ –ª–∏–º–∏—Ç–∞!)

+ CHUNK_DURATION = 600 —Å–µ–∫—É–Ω–¥ (10 –º–∏–Ω—É—Ç)  
+ –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞: ~75 MB (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–∞!)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Server-side —á–∞–Ω–∫–∏ —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ 502 ‚úÖ

### 2. **–û—Ç–∫–∞—á–µ–Ω UploadModalLong –∫ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ 18.11**

–£–±—Ä–∞–ª–∏ –≤—Å–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (Fetch, chunked browser upload).

–í–µ—Ä–Ω—É–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π XHR –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–ª 18.11.

---

## ‚ö†Ô∏è –í–†–ï–ú–ï–ù–ù–û–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã –¥–æ ~100 MB —á–µ—Ä–µ–∑ browser.**

–î–ª—è —Ñ–∞–π–ª–æ–≤ >100 MB:
- Browser upload —É–ø–∞–¥—ë—Ç —Å 502
- –ù—É–∂–Ω–æ –ª–∏–±–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–∂–∞—Ç—å —Ñ–∞–π–ª
- –õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏

---

## üéØ –î–û–õ–ì–û–°–†–û–ß–ù–´–ï –†–ï–®–ï–ù–ò–Ø:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ø—Ä–æ—Å–∏—Ç—å Supabase —É–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç (–ø–∏—Å—å–º–æ –≥–æ—Ç–æ–≤–æ)

–§–∞–π–ª: `SUPABASE_SUPPORT_EMAIL_V2.md`

–°–ø—Ä–æ—Å–∏—Ç—å:
- –ö–∞–∫–æ–π —Ç–æ—á–Ω—ã–π –ª–∏–º–∏—Ç –Ω–∞ signed upload URLs?
- –ú–æ–∂–Ω–æ –ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 500 MB?
- –ï—Å—Ç—å –ª–∏ resumable upload API?

### –í–∞—Ä–∏–∞–Ω—Ç 2: Chunked upload –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

–†–∞–∑–±–∏–≤–∞—Ç—å —Ñ–∞–π–ª –Ω–∞ —á–∞—Å—Ç–∏ **–≤ –±—Ä–∞—É–∑–µ—Ä–µ** –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:
- File (200 MB) ‚Üí [50 MB, 50 MB, 50 MB, 50 MB]
- –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å < –ª–∏–º–∏—Ç–∞
- –°–æ–±–∏—Ä–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù—É–∂–Ω—ã –Ω–æ–≤—ã–µ API endpoints

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ

- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
  "–§–∞–π–ª –±–æ–ª—å—à–µ 100 MB. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∂–º–∏—Ç–µ –≤–∏–¥–µ–æ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π"
- –°—Å—ã–ª–∫–∞ –Ω–∞ HandBrake –∏–ª–∏ –æ–Ω–ª–∞–π–Ω-–∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥–æ–π Storage

- Cloudflare R2 (–Ω–µ—Ç –ª–∏–º–∏—Ç–∞ –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞)
- AWS S3 (multipart upload –∏–∑ –∫–æ—Ä–æ–±–∫–∏)
- Backblaze B2

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
- Browser upload —Ñ–∞–π–ª–æ–≤ **<100 MB** ‚úÖ
- Server SDK upload —Ñ–∞–π–ª–æ–≤ **–ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞** ‚úÖ  
- Server-side chunked processing —Å **10-–º–∏–Ω—É—Ç–Ω—ã–º–∏ —á–∞–Ω–∫–∞–º–∏** (75 MB) ‚úÖ
- Retry –ª–æ–≥–∏–∫–∞ –≤–µ–∑–¥–µ ‚úÖ

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:
- Browser upload —Ñ–∞–π–ª–æ–≤ **>100 MB** –ø–∞–¥–∞–µ—Ç —Å 502
- –≠—Ç–æ **–ª–∏–º–∏—Ç Supabase**, –Ω–µ –Ω–∞—à –±–∞–≥

---

## üöÄ –ß–¢–û –î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°:

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (–¥–ª—è –¥–µ–º–æ):
1. **–ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã <100 MB**
2. **–ò–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–∂–∏–º–∞—Ç—å** –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
3. –ü–æ–∫–∞–∑–∞—Ç—å warning –≤ UI: "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: –¥–æ 100 MB"

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ:
1. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ –≤ Supabase Support** (—Ñ–∞–π–ª –≥–æ—Ç–æ–≤)
2. –°–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–æ –ª–∏–º–∏—Ç—ã –∏ resumable uploads
3. –ï—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥—è—Ç –ª–∏–º–∏—Ç ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å chunked browser upload

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å chunked upload –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
2. –ò–ª–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π Storage (R2, S3)
3. –ò–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—Å–µ–≥–¥–∞ —Å–∂–∏–º–∞—Ç—å —Ñ–∞–π–ª—ã

---

## üìß –ü–ò–°–¨–ú–û –í SUPABASE:

–ò—Å–ø–æ–ª—å–∑—É–π: `SUPABASE_SUPPORT_EMAIL_V2.md`

–ö–ª—é—á–µ–≤–æ–π –≤–æ–ø—Ä–æ—Å:
**"What is the file size limit for signed upload URLs? Can it be increased?"**

---

## ‚úÖ –ò–¢–û–ì:

**–ö–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞
- ‚úÖ Stream uploads
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —á–∞–Ω–∫–∏
- ‚úÖ –†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**–û—Å—Ç–∞–ª–∏—Å—å –≤–Ω–µ—à–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ö†Ô∏è Supabase signed URL limit ~100-120 MB

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü–∏—Å—å–º–æ –≤ Supabase Support üìß



